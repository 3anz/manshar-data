{"id":9033,"guid":"DmdNMku8QxEeOhgYEDLZFw","title":"ما هي فائدة الORMs؟","tagline":"مقدمة كان فيه نقاش على مجموعة Egyptian geeks حول فائدة الORMs  و لقيت إني كتبت كلام كتير  و نصحني بعض الأصدقاء بنشره على مدونتي  فهاعيد نشره هنا لتعم الفائدة    و ده رابط النقاش الأصلي للي عاوز يطلع   ...","published_at":"2017-08-11T06:14:35.322Z","published":true,"updated_at":"2017-08-11T06:14:33.248Z","slug":"ما-هي-فائدة-الorms","publication_slug":null,"recommendations_count":0,"comments_count":1,"pickabilities_count":1,"reading_time":4,"current_user_can_edit":null,"json_model":"{\"sections\":[{\"name\":\"r207xcy9\",\"component\":\"Section\",\"components\":[{\"name\":\"dbmdoau2\",\"tagName\":\"div\",\"type\":\"layout-single-column\",\"component\":\"Layout\",\"components\":[{\"component\":\"Paragraph\",\"name\":\"sy0l4t8o\",\"text\":\"ما هي فائدة الORMs؟\",\"placeholderText\":\"\",\"paragraphType\":\"h1\"},{\"component\":\"Paragraph\",\"name\":\"rxj75ck8\",\"text\":\"مقدمة\",\"placeholderText\":\"\",\"paragraphType\":\"h2\"},{\"component\":\"Paragraph\",\"name\":\"dj7qr2jm\",\"text\":\"كان فيه نقاش على مجموعة Egyptian geeks حول فائدة الORMs. و لقيت إني كتبت كلام كتير، و نصحني بعض الأصدقاء بنشره على مدونتي، فهاعيد نشره هنا لتعم الفائدة...\",\"placeholderText\":\"\",\"paragraphType\":\"p\",\"formats\":[{\"type\":\"a\",\"from\":24,\"to\":39,\"attrs\":{\"href\":\"https://www.facebook.com/groups/egyptian.geeks\"}}]},{\"component\":\"Paragraph\",\"name\":\"aaq781ow\",\"text\":\"و  ده رابط النقاش الأصلي للي عاوز يطلع عليه.\",\"placeholderText\":\"\",\"paragraphType\":\"p\",\"formats\":[{\"type\":\"a\",\"from\":6,\"to\":24,\"attrs\":{\"href\":\"https://www.facebook.com/groups/egyptian.geeks/permalink/1405749259464778/\"}}]},{\"component\":\"Paragraph\",\"name\":\"etmx5y0f\",\"text\":\"ملاحظة: أنا عادة مش بحب أكتب العامية في المقالات، بس بسبب طبيعة المقالة دي و إن أصلها كان نقاش على الفيسبوك، فأنا سيبتها بالعامية زي ما هي.\",\"placeholderText\":\"\",\"paragraphType\":\"p\"},{\"component\":\"Paragraph\",\"name\":\"1eyvq457\",\"text\":\"أولا: إيه لازمة الORM؟ أو إيه هي المشاكل اللي بيحلها؟\",\"placeholderText\":\"\",\"paragraphType\":\"h2\"},{\"component\":\"Paragraph\",\"name\":\"7cs0jwmt\",\"text\":\"* مشكلة رقم 1: impedance mismatch و دي لو أنت اشتغلت بالتقنيات القديمة (عصر ما قبل الorm) هاتلاقي إنك كنت دايما بتعمل class و تعبي فيها النتائج بتاعت الكويريز بتاعتك، و ده أمر مرهق جدا، الorm عملهولك ببساطة. ميزة إضافية هنا إنك ممكن تربط الclass بتاعتك بكذا جدول، أو جدول واحد يتفك ف كذا class\",\"placeholderText\":\"\",\"paragraphType\":\"p\"},{\"component\":\"Paragraph\",\"name\":\"ghh449q7\",\"text\":\"* مشكلة رقم 2: persistence ignorance و دي تعني إنك فعليا بتتعامل مع الobjects ككobjects بعض النظر هي جاية من داتابيز و لا من ملف، و بغض النظر نوع الداتابيز دي إيه أو الملف ده إيه. دي مفيدة في بعض الحالات زي مثلا إني أغير قاعدة البيانات بتاعتي، و دي طوال سنين خبرتي لم تطلب مني إلا مرة واحدة بس!\",\"placeholderText\":\"\",\"paragraphType\":\"p\"},{\"component\":\"Paragraph\",\"name\":\"95nilpcd\",\"text\":\"* مشكلة رقم 3: كتابة و صيانة أكواد الsqll عملية مش لطيفة خالص، خاصة إن البزنس بتاعك بيبقى موزع على التطبيق و قاعدة البيانات، فالorm بيساعدك في تنفيذ الseparation of concerns و بيديك لغة زي ال sql بس غالبا بتكون statically typed و هذا يعني إنك ممكن تكتشف مشاكل الsyntax من غير من تشغل البرنامج، و فيه pattern مستخدم هنا اسمه object query pattern، و من أجمد التطبيقات للباترن ده: LINQ\",\"placeholderText\":\"\",\"paragraphType\":\"p\"},{\"component\":\"Paragraph\",\"name\":\"q1mj9cty\",\"text\":\"* مشكلة رقم 4: الcaching: لما بتجيب حاجة من قاعدة البيانات، ليه تروح تجيبها تاني لما ممكن تحتفظ بيها طول الفترة اللي ممكن تحتاجها فيها؟ و عشان يعملوا الcaching ده فيه pattern بيستخدموه اسمه identity map. فيه مستويين من الcaching: المستوى الأول في الsession الواحدة، و دي موجودة في أغلب الorms. و المستوى التاني فيما بين الsessions المختلفة، و دي موجودة في بعض الorms. المستوى الأول بيسموه 1st level cache و المستوى التاني بيسموه 2nd level cache\",\"placeholderText\":\"\",\"paragraphType\":\"p\"},{\"component\":\"Paragraph\",\"name\":\"518mr1v7\",\"text\":\"* مشكلة رقم 5: أحيانا بيكون بيانات مرتبطة ببعضيها بس موزعة على كذا جدول، في الأول بتجيب الmaster record و بعدين بتكتب كويري منفصل عشان تجيب البيانات المرتبطة بيه من الجداول التانية. الموضوع ده بيبقى رخم لما بيبقى كتير. الorms جواها lazy loading implementation عشان يسهل عليك الحوار ده: البيانات المرتبطة هي عبارة عن reference to object و أول ما بتستعمله الorm بتروح تجيبهولك من غير ما أنت تبذل أي مجهود.ده لذيذ جدا لغاية لما تخبط في مشكلى اسمها n+1: و دي تعني إنك مثلا عندك 1000 بيان في قاعدة البيانات و كلهم ليهم بيانات مرتبطة بالmaster records. فأنت لما تعوز تجيب البيانات المرتبطة دي بتعمل for loop كل مرة فيها الorm هايروح قاعدة البيانات من غير ما أنت تبقى واخد بالك، و كده أنت فشخت الperformance لما رحت 100 مرة + المرة الأولى اللي جبت فيها قائمة البيانات الأساسية.و دي برضو الormm عامل لك ليها حل إنك تقدر تجيب البيانات الأساسية بالبيانات المرتبطة بيهم مرة واحدة، و ده بيسمى: eager loading\",\"placeholderText\":\"\",\"paragraphType\":\"p\"},{\"component\":\"Paragraph\",\"name\":\"7ov8qndl\",\"text\":\"ثانيا: إيه هي المشاكل اللي بتحصل لما تستخدم الorms؟\",\"placeholderText\":\"\",\"paragraphType\":\"h2\"},{\"component\":\"Paragraph\",\"name\":\"hui8w6y6\",\"text\":\"* مشكلة رقم 1: سوء الاستخدام!!\",\"placeholderText\":\"\",\"paragraphType\":\"p\"},{\"component\":\"Paragraph\",\"name\":\"j0ae0glk\",\"text\":\"- المبرمجين بيتستهلوا فبيعكوا في كتابة أكواد الاستعلام فبيطلع sql query زبالة، فبيأثر على الperformance!\",\"placeholderText\":\"\",\"paragraphType\":\"p\"},{\"component\":\"Paragraph\",\"name\":\"yty25uvf\",\"text\":\"و بسبب سوء الاستخدام ممكن تخبط في مشكلة n+1 اللي ذكرتها في التعليق السابق.\",\"placeholderText\":\"\",\"paragraphType\":\"p\"},{\"component\":\"Paragraph\",\"name\":\"emrjopt9\",\"text\":\"و بسبب سوء الاستخدام ممكن ما تنتبهش إن الorm بيعمل caching للobjects و تحتفظ باللsession لفترة طويلة أنت مش محتاجها (صدق أو لا تصدق: شفت برنامج بيحتاج 170 GB RAM عشان المبرمج كان بيحط الdbcontext في ال session بتاعت كل مستخدم!!!)\",\"placeholderText\":\"\",\"paragraphType\":\"p\"},{\"component\":\"Paragraph\",\"name\":\"7zwuzaqm\",\"text\":\"و ممكن نقول هنا بصفة عامة الكويريز اللي بتطلع من الOrms ما بتبقاش لطيفة!\",\"placeholderText\":\"\",\"paragraphType\":\"p\"},{\"component\":\"Paragraph\",\"name\":\"a8j8t6gm\",\"text\":\"* مشكلة رقم 2: التأثير السلبي على performance.عشان كده لازم تبقى فاهم الorm كويس عشان ما تعكش منك.\",\"placeholderText\":\"\",\"paragraphType\":\"p\"},{\"component\":\"Paragraph\",\"name\":\"ov82jbtr\",\"text\":\"* مشكلة رقم 3: استخدامه في حالات هناك حلولا أفضل منها: مثال, إنك تستخدم الorm في التقارير، هنا مثلا أنت مش محتاج إن الorm يعمل caching للobjects و عاوزه يبقى سريع جدا، و الorm هايبطأ لك الدنيا\",\"placeholderText\":\"\",\"paragraphType\":\"p\"},{\"component\":\"Paragraph\",\"name\":\"c8faqo4l\",\"text\":\"ثالثا: استدراكات لابد منها\",\"placeholderText\":\"\",\"paragraphType\":\"h2\"},{\"component\":\"Paragraph\",\"name\":\"a70b1ujm\",\"text\":\"1- كل نظام و له ظروفه، و الOrms لما طلعت - فيما أعلم - كانت عشان تحل مشاكل في الenterprise applications\",\"placeholderText\":\"\",\"paragraphType\":\"p\"},{\"component\":\"Paragraph\",\"name\":\"bwj10ums\",\"text\":\"و عشان كده لما موقع زي stackoverflow قابلته مشكلة في الperformance بقى إن الorm بوضعه الحالي مش مناسب، فعمل micro orm بيحل أول مشكلة ذكرتها فوق بس، فالنتيجة: لازال يستخدم صورة من صور الorm عشان توفر عليه شوية مجهود قد يكون كبير (حسب حجم النظام)\",\"placeholderText\":\"\",\"paragraphType\":\"p\"},{\"component\":\"Paragraph\",\"name\":\"sfictnb4\",\"text\":\"2- - لو أنت محتاج *بعض* وظائف الorms ما تعملهاش بنفسك، حتى لو بfunction صغيرة، عشان أنت كده بتعيد اختراع العجلة، خاصة لو فيه عجل كويس و هايسد معاك زي الmicro-orms!\",\"placeholderText\":\"\",\"paragraphType\":\"p\"},{\"component\":\"Paragraph\",\"name\":\"3s8frbkl\",\"text\":\"آخر حاجة عاوز أقولها، إن المقالة دي نشرتها أول مرة في مدونتي الشخصية هنا.\",\"placeholderText\":\"اكتب مقالك هنا\",\"paragraphType\":\"p\",\"formats\":[{\"type\":\"a\",\"from\":54,\"to\":72,\"attrs\":{\"href\":\"https://samehdeabes.blogspot.com/2017/03/Why-ORMs.html\"}}]}]}]}]}","created_at":"2017-08-11T06:08:09.017Z","followers_count":2,"hotness":769.0,"articles":[{"id":8867,"guid":"QTtT0wHc_JZffbw7xpNLOQ","title":"3 تقنيات بواجهة المستخدم يكرهها المستخدمون ","tagline":"ملاحظة: التقنيات المشار اليها في هذا المقال ليست دائما تقنيات سيئة حيث يمكن التوليد بها تأثير إيجابي في حالة تم استخدامها بشكل صحيح 1:النوافذ المنبثقه في الغالب انت تعرف ذلك الشعور   عندما تكون منغمسا في   ...","published_at":"2017-08-02T16:08:55.487Z","published":true,"updated_at":"2017-08-02T16:08:58.274Z","slug":"3-تقنيات-بواجهة-المستخدم-يكرهها-المستخدمون","publication_slug":null,"recommendations_count":11,"comments_count":3,"pickabilities_count":1,"reading_time":5,"thumbs_srcs":[],"thumbs_srcsets":[],"user":{"id":4326,"name":"محمد صلاح الدين","published_articles_count":3,"nickname":"medobaayou","thumb_url":"https://api.manshar.com/media/W1siZiIsIjIwMTcvMDQvMjIvMDAvMzQvNTkvZjg5NzZmNmItZGZhMC00MzMxLTg2MDYtZGJiZWNlNWQ5MjVkL3Bob3RvLmpwZyJdLFsicCIsInRodW1iIiwiNDAweDQwMCMiXV0/photo.jpg","followed_by_current_user":null,"follows_current_user":null,"current_user_pickability":null},"publication":null,"followed_by_current_user":null,"current_user_pickability":null,"topic":{"id":695,"title":"تجربة المستخدم","category":{"id":1,"color":"#03A9F4"}}}],"user":{"id":5114,"name":"سامح دعبس","published_articles_count":2,"nickname":"samehdeabes","bio":"","created_at":"2017-08-11T06:07:54.658Z","admin":false,"editor":false,"comments_count":0,"recommendations_count":0,"followers_count":5,"following_users_count":2,"created_nickname_at":"2017-08-12T01:50:38.846Z","pickabilities_count":1,"avatar_url":"https://api.manshar.com/media/W1siZiIsIjIwMTcvMDgvMTEvMDYvMDcvNTQvNWRkY2RiZjAtZTYxNS00ODcwLWEzNmQtYjgxMTAzMjY1MjZmL3Bob3RvLmpwZyJdXQ/photo.jpg","thumb_url":"https://api.manshar.com/media/W1siZiIsIjIwMTcvMDgvMTEvMDYvMDcvNTQvNWRkY2RiZjAtZTYxNS00ODcwLWEzNmQtYjgxMTAzMjY1MjZmL3Bob3RvLmpwZyJdLFsicCIsInRodW1iIiwiNDAweDQwMCMiXV0/photo.jpg","followed_by_current_user":null,"follows_current_user":null,"current_user_pickability":null,"profiles":{"gplus":{"uid":"102964064272016978178","provider":"gplus","nickname":"102964064272016978178"}},"cover_url":"https://api.manshar.com/media/W1siZiIsIjIwMTcvMDgvMTEvMDYvMDcvNTQvNWRkY2RiZjAtZTYxNS00ODcwLWEzNmQtYjgxMTAzMjY1MjZmL3Bob3RvLmpwZyJdLFsicCIsInRodW1iIiwiMTkwMHgxMjAwIyJdXQ/photo.jpg"},"publication":null,"topic":{"id":135,"title":"برمجة","articles_count":19,"followers_count":14,"pickabilities_count":1,"created_at":"2015-10-13T07:08:54.331Z","updated_at":"2015-10-13T07:08:54.331Z","category":{"id":1,"title":"علوم وتكنولوجيا","color":"#03A9F4","icon_cssclass":"fa-desktop","created_at":"2015-01-20T07:47:50.785Z","updated_at":"2015-02-02T04:45:52.579Z","articles_count":340,"topics_count":128,"description":"مواضيع حول العلوم المختلفة، الأحياء، الفيزياء، تكنولوجيا وغيرها","followers_count":31,"original_image_url":"https://api.manshar.com/media/W1siZiIsIjIwMTUvMDIvMDIvMDQvNDUvNTIvNDIyL2NvbXB1dGVyXzgyMzcxXzEyODAuanBnIl1d","followed_by_current_user":null,"image_thumb_url":"https://api.manshar.com/media/W1siZiIsIjIwMTUvMDIvMDIvMDQvNDUvNTIvNDIyL2NvbXB1dGVyXzgyMzcxXzEyODAuanBnIl0sWyJwIiwidGh1bWIiLCI4MHg4MCMiXV0","icon_url":null},"followed_by_current_user":null},"followed_by_current_user":null,"current_user_pickability":null,"tags":[{"id":117,"title":"برمجة","slug":"برمجة","articles_count":0,"followers_count":0,"pickabilities_count":0,"followed_by_current_user":null,"current_user_pickability":null}]}